<?xml version="1.0"?>
<launch>
  <arg name="calibration_offsets" doc="offset calibration file as generated by robot_calibration" />

  <arg name="calibration_file" default="$(find tams_pr2_description)/config/calibration_config.yaml" doc="calibration file to update" />

  <node name="updater" pkg="tams_pr2_calibration" type="calibration_updater.py"
        required="true" output="screen">
    <rosparam ns="offsets" if="$(eval calibration_offsets[0] == '/')" file="$(arg calibration_offsets)" />
    <rosparam ns="offsets" if="$(eval calibration_offsets[0] != '/')" file="$(env PWD)/$(arg calibration_offsets)" />
    
    <param name="calibration_file" if="$(eval calibration_file[0] == '/')" value="$(arg calibration_file)" />
    <param name="calibration_file" if="$(eval calibration_file[0] != '/')" value="$(env PWD)/$(arg calibration_file)"/>
  </node>
</launch>
